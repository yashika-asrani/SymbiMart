{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yashikaasrani/Downloads/SymbiMart/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yashikaasrani/Downloads/SymbiMart/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import React from'react';import{Link,useNavigate}from'react-router-dom';import\"../css/login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(props){var navigate=useNavigate();var signup=function signup(){navigate(\"/signup\");};var onLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var email,password,data,res,resp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();email=document.getElementById(\"login-email\").value;password=document.getElementById(\"login-password\").value;data={email:email,password:password};_context.prev=4;_context.next=7;return axios.post(\"http://localhost:8000/login\",data,{headers:{\"Content-Type\":\"application/json\"}});case 7:res=_context.sent;_context.next=10;return res.data;case 10:resp=_context.sent;console.log(resp);if(resp.authtoken){props.setMessage(\"Welcome to SymbiMart, Please wait while we are tranfering you to home\");setTimeout(function(){props.setMessage(null);navigate(\"/\");},3000);}_context.next=20;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](4);console.log(_context.t0);props.setMessage(_context.t0.response.data.error);setTimeout(function(){props.setMessage(null);},3000);case 20:case\"end\":return _context.stop();}}},_callee,null,[[4,15]]);}));return function onLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[props.message===null?null:/*#__PURE__*/_jsx(\"div\",{className:\"message\",style:{paddingBottom:\"20px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning w-50\",style:{margin:\"auto\"},role:\"alert\",children:props.message})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",id:\"container\",style:{marginTop:\"150px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container sign-in-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onLogin,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"login-email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"login-password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"Forgot your password?\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Sign In\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overlay-panel overlay-right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Hello, Friend!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enter your personal details and start journey with us\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ghost\",id:\"signUp\",onClick:signup,children:\"Sign Up\"})]})})})]})]});};export default Login;","map":{"version":3,"names":["axios","React","Link","useNavigate","Login","props","navigate","signup","onLogin","e","preventDefault","email","document","getElementById","value","password","data","post","headers","res","resp","console","log","authtoken","setMessage","setTimeout","response","error","message","paddingBottom","margin","marginTop"],"sources":["/Users/yashikaasrani/Downloads/SymbiMart/frontend/src/pages/Login.js"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport \"../css/login.css\"\r\nconst Login = (props) => {\r\n    const navigate = useNavigate();\r\n    const signup = () => {\r\n        navigate(\"/signup\")\r\n    }\r\n\r\n    const onLogin = async (e) => {\r\n        e.preventDefault();\r\n        const email = document.getElementById(\"login-email\").value;\r\n        const password = document.getElementById(\"login-password\").value;\r\n        const data = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        try {\r\n            const res = await axios.post(\"http://localhost:8000/login\", data, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                }\r\n            });\r\n            const resp = await res.data\r\n            console.log(resp)\r\n            if (resp.authtoken) {\r\n                props.setMessage(\"Welcome to SymbiMart, Please wait while we are tranfering you to home\");\r\n                setTimeout(() => {\r\n                    props.setMessage(null)\r\n                    navigate(\"/\")\r\n                }, 3000);\r\n\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n            props.setMessage(error.response.data.error);\r\n                setTimeout(() => {\r\n                    props.setMessage(null)\r\n                }, 3000);\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            {props.message === null ? null : <div className='message' style={{ paddingBottom: \"20px\" }}>\r\n\r\n                <div className=\"alert alert-warning w-50\" style={{ margin: \"auto\" }} role=\"alert\">\r\n                    {props.message}\r\n                </div>\r\n            </div>}\r\n            <div className=\"login-container\" id=\"container\" style={{marginTop: \"150px\"}}>\r\n\r\n                <div className=\"form-container sign-in-container\">\r\n                    <form onSubmit={onLogin}>\r\n                        <h1>Sign In</h1>\r\n                        <input type=\"email\" id=\"login-email\" placeholder=\"Email\" />\r\n                        <input type=\"password\" id=\"login-password\" placeholder=\"Password\" />\r\n                        <Link to=\"#\">Forgot your password?</Link>\r\n                        <button>Sign In</button>\r\n                    </form>\r\n                </div>\r\n                <div className=\"overlay-container\">\r\n                    <div className=\"overlay\">\r\n                        <div className=\"overlay-panel overlay-right\">\r\n                            <h1>Hello, Friend!</h1>\r\n                            <p>Enter your personal details and start journey with us</p>\r\n                            <button className=\"ghost\" id=\"signUp\" onClick={signup}>Sign Up</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"8RAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,kBAAkB,8IACzB,GAAMC,MAAK,CAAG,QAARA,MAAK,CAAIC,KAAK,CAAK,CACrB,GAAMC,SAAQ,CAAGH,WAAW,EAAE,CAC9B,GAAMI,OAAM,CAAG,QAATA,OAAM,EAAS,CACjBD,QAAQ,CAAC,SAAS,CAAC,CACvB,CAAC,CAED,GAAME,QAAO,4FAAG,iBAAOC,CAAC,qJACpBA,CAAC,CAACC,cAAc,EAAE,CACZC,KAAK,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,CACpDC,QAAQ,CAAGH,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,CAC1DE,IAAI,CAAG,CACTL,KAAK,CAAEA,KAAK,CACZI,QAAQ,CAAEA,QACd,CAAC,uCAEqBf,MAAK,CAACiB,IAAI,CAAC,6BAA6B,CAAED,IAAI,CAAE,CAC9DE,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,QAJIC,GAAG,sCAKUA,IAAG,CAACH,IAAI,SAArBI,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,GAAIA,IAAI,CAACG,SAAS,CAAE,CAChBlB,KAAK,CAACmB,UAAU,CAAC,uEAAuE,CAAC,CACzFC,UAAU,CAAC,UAAM,CACbpB,KAAK,CAACmB,UAAU,CAAC,IAAI,CAAC,CACtBlB,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAAE,IAAI,CAAC,CAEZ,CAAC,iFAEDe,OAAO,CAACC,GAAG,aAAO,CAClBjB,KAAK,CAACmB,UAAU,CAAC,YAAME,QAAQ,CAACV,IAAI,CAACW,KAAK,CAAC,CACvCF,UAAU,CAAC,UAAM,CACbpB,KAAK,CAACmB,UAAU,CAAC,IAAI,CAAC,CAC1B,CAAC,CAAE,IAAI,CAAC,CAAC,qEAEpB,kBA/BKhB,QAAO,4CA+BZ,CACD,mBACI,2BACKH,KAAK,CAACuB,OAAO,GAAK,IAAI,CAAG,IAAI,cAAG,YAAK,SAAS,CAAC,SAAS,CAAC,KAAK,CAAE,CAAEC,aAAa,CAAE,MAAO,CAAE,uBAEvF,YAAK,SAAS,CAAC,0BAA0B,CAAC,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAC,IAAI,CAAC,OAAO,UAC5EzB,KAAK,CAACuB,OAAO,EACZ,EACJ,cACN,aAAK,SAAS,CAAC,iBAAiB,CAAC,EAAE,CAAC,WAAW,CAAC,KAAK,CAAE,CAACG,SAAS,CAAE,OAAO,CAAE,wBAExE,YAAK,SAAS,CAAC,kCAAkC,uBAC7C,cAAM,QAAQ,CAAEvB,OAAQ,wBACpB,+BAAgB,cAChB,cAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,EAAG,cAC3D,cAAO,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,gBAAgB,CAAC,WAAW,CAAC,UAAU,EAAG,cACpE,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,mCAA6B,cACzC,mCAAwB,GACrB,EACL,cACN,YAAK,SAAS,CAAC,mBAAmB,uBAC9B,YAAK,SAAS,CAAC,SAAS,uBACpB,aAAK,SAAS,CAAC,6BAA6B,wBACxC,sCAAuB,cACvB,4EAA4D,cAC5D,eAAQ,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAED,MAAO,qBAAiB,GACrE,EACJ,EACJ,GACJ,GACP,CAEX,CAAC,CAED,cAAeH,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}